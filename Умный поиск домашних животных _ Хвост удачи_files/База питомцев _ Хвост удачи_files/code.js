var _tmr=_tmr||[];
(function(){function Mb(a){!Ca&&"number"===typeof a&&(Ca=a);return N&&Nb&&hb?(ib=[Nb-N,hb-N,Ta?Ta-N:null,Ua?Ua-N:null,Ca?Ca-N:null].join("/"),Ta&&(Ua&&Ca)&&(Mb=function(){return ib}),ib):null}function q(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent&&a.attachEvent("on"+b,c)}function L(a,b,c){a.removeEventListener?a.removeEventListener(b,c,!1):a.detachEvent&&a.detachEvent("on"+b,c)}function Da(a){return encodeURIComponent(a)}function Ob(a,b){try{if(a.nodeName.toLowerCase()===b.toLowerCase())return a;
if(a.parentNode)return Ob(a.parentNode,b)}catch(c){s&&console.warn("[TopMailRu] Error#1.25",c)}return null}function Pb(a,b){if(null===a.offsetParent||(0==a.offsetHeight||0==a.offsetWidth||0==a.clientHeight||0==a.clientWidth)||b&&(0==a.offsetLeft||0==a.offsetTop))return!1;if(void 0!==e.getComputedStyle){var c=e.getComputedStyle(a,null);return"none"!==c.display&&"hidden"!==c.visibility}return!0}function Qb(a,b){for(var c=0,d=b.length;c<d;c++)if(b[c]===a)return!0;return!1}function fa(a,b){for(var c=
0,d=b.length;c<d;c++)if(b[c]==a)return!0;return!1}function Z(a){var b=typeof a;return!("number"===b||"boolean"===b||"string"===b||a.nodeType||a===a.window)}function ga(a){return"[object Array]"===Object.prototype.toString.call(a)}function S(){var a=arguments,b=a[0]||{},c=!1,d=1,g=a.length,m,h,l,k,e;"boolean"===typeof b&&(c=b,b=a[d++]||{});for(Z(b)||(b={});d<g;d++)if(null!=(m=a[d]))for(h in m)l=b[h],k=m[h],b!==k&&(c&&k&&(Z(k)||(e=ga(k)))?(e?(e=!1,l=l&&ga(l)?l:[]):l=l&&Z(l)?l:{},b[h]=S(c,l,k)):void 0!==
k&&(b[h]=k));return b}function Rb(a,b,c){if(!a)return null;var d=a.match(b),g=2<arguments.length?c:0;return d&&d.length>g?d[g]:null}function Sb(a){return(""+a).replace(/[\/\^\$\*\+\?\.\|\(\)\[\]\{\}\\]/g,"\\$&")}function jb(a){return Rb(a.host,/^(?:w{3}.)?(.*)$/,1)||""}function Hc(a,b,c){a=jb(a);b=(b&&0<b?b:URL_HELPER__MASK_LEVEL)-1;var d=1;a=a.replace(RegExp("^.*(?:\\.((?:[^\\.]+\\.){"+b+"}[^\\.]+$))"),"$1");if(d=a.match(/\./g))d=d.length;a="(?:^|\\.{"+(b-d+1)+"})"+Sb(a)+"$";return RegExp(c?"^((?!"+
a+").)*$":a)}function kb(a){var b;if(ga(a)){b=[];for(var c=0,d=a.length;c<d;c++)b.push(kb(a[c]));return b}b=a instanceof RegExp?a:RegExp("^"+Sb(a)+"$");return b.test(jb(u))?null:b}function Tb(a){var b="";try{var c=new Uint8Array(a);e.crypto.getRandomValues(c);for(var d=0;d<a;d++)b+=(c[d]%16).toString(16)}catch(g){b="";for(d=0;d<a;d++)c=Math.floor(16*Math.random()),b+=c.toString(16)}return b}function r(){return(new Date).getTime()}function H(a,b){var c={data:b,raw:a,url:lb(a)},d;if(!Ic||"function"!==
typeof navigator.sendBeacon)d=!1;else{c.dataSplitter=";";var g=mb(c.data,c.dataSplitter);try{d=!0===navigator.sendBeacon(c.url,g)}catch(m){d=!1}}d||(void 0===b?(c.dataSplitter=";",c.open=Jc,c.connect=Kc,c.startListen=Lc,c.stopListen=Mc,c.open(c),c.connect(c)):("function"===typeof e.XMLHttpRequest?(c.dataSplitter=";",c.open=Nc,c.connect=Oc,c.startListen=Pc,c.stopListen=Qc,c.open(c),c.connect(c),d=!0):d=!1,d||Rc(c)))}function Rc(a){var b=f.createElement("iframe"),c=f.createElement("div");c.setAttribute("style",
"position: absolute !important; top: -9999px !important; left: -9999px !important; width: 1px !important; height: 1px !important;");c.appendChild(b);try{f.body.appendChild(c)}catch(d){}try{var g=b.contentWindow.document,m=g.createElement("div"),h;for(h in a.data)if(a.data.hasOwnProperty(h)){var l=a.data[h],k=typeof l;if("string"===k||"number"===k){var e=g.createElement("input");e.setAttribute("type","hidden");e.setAttribute("name",h);e.value=l;m.appendChild(e)}}var w=g.createElement("form");w.setAttribute("action",
a.url);w.setAttribute("method",Ub);w.setAttribute("enctype",Vb);w.appendChild(m);var t=g.createElement("div");t.appendChild(w);g.body.appendChild(t);var O=function(){try{L(b,"load",O),f.body.removeChild(c)}catch(a){s&&console.warn("[TopMailRu] Error#1.2",a)}};q(b,"load",O);w.submit()}catch(p){s&&console.warn("[TopMailRu] Error#1.3",p)}}function Nc(a){a._connection=new e.XMLHttpRequest}function Oc(a){a._connection.open(Ub,a.url);a._connection.setRequestHeader("Content-Type",Vb);a._connection.send(mb(a.data,
a.dataSplitter))}function Pc(a){q(a._connection,"load",a._onload);q(a._connection,"error",a._onerror)}function Qc(a){L(a._connection,"load",a._onload);L(a._connection,"error",a._onerror)}function Jc(a){a._connection=new Image}function Kc(a){a._connection.src=a.url+mb(a.data,a.dataSplitter)}function Lc(a){a._connection.onload=a._onload;a._connection.onerror=a._onerror}function Mc(a){a._connection.onload=null;a._connection.onerror=null}function mb(a,b){var c=b||";",d="",g;for(g in a)if(a.hasOwnProperty(g)){var m=
a[g],h=typeof m;if("string"===h||"number"===h)d+=c+encodeURIComponent(g)+"="+encodeURIComponent(m)}return d}function lb(a){a="string"===typeof a?a:"/";return"https://top-fwz1.mail.ru"+("/"===a.substring(0,1)?"":"/")+a}function $(a){return(a=f.cookie.match(RegExp("(?:^|; )"+a.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)")))?decodeURIComponent(a[1]):null}function Ea(a,b,c){c=c||{};var d=c.expires;"number"===typeof c.expires&&(d=new Date,d.setTime(d.getTime()+c.expires));d&&d.toUTCString&&
(d=d.toUTCString());c.expires=d;a=a+"="+encodeURIComponent(b);for(var g in c)if((b=c[g])||0===b)a+="; "+g,!0!==b&&(a+="="+b);f.cookie=a}function nb(a,b){var c=b||{};c.expires=-1;Ea(a,"",c)}function Sc(){var a="tmr"+(""+Math.random()).slice(2);try{return ha=e.localStorage||null,ha.setItem(a,a),ha.removeItem(a),!0}catch(b){return ha=null,s&&console.warn("[TopMailRu] Error#1.4",b),!1}}function ya(a){try{return ha.getItem(a)}catch(b){s&&console.warn("[TopMailRu] Error#1.5",b)}return null}function Fa(a,
b){try{ha.setItem(a,b)}catch(c){s&&console.warn("[TopMailRu] Error#1.6",c)}}function Tc(){if(!T)return null;for(var a=u.hostname.split(".").reverse(),b,c=1,d=a.length;c<d;c++){b=a[0];for(var g=1;g<=c;g++)b=a[g]+"."+b;var g=""+r(),m={domain:b,path:"/",expires:3E5};try{Ea("tmr_tcdhn",g,m);var h=$("tmr_tcdhn");nb("tmr_tcdhn",m);if(h===g)return b}catch(e){s&&console.warn("[TopMailRu] Error#1.8",e)}}return null}function Wb(a,b){T&&Ea(a,b,ob);oa&&Fa(a,b)}function pb(a,b,c){var d=f.createElement("script");
d.type="text/javascript";d.async=!0;b&&(d.onload=b);c&&(d.onerror=c);d.src=a;try{document.body.appendChild(d)}catch(g){try{c&&c()}catch(m){}}}function Xb(a){var b=";e="+encodeURIComponent("detect");H(J(a,aa,!1,!1)+b)}function Yb(a,b){if(a.length&&null!==b.ecom_data){var c=za(b.ecom_data),c=c?(""+c).substring(1,c.length-1):"";if(!(4096<c.length||-1===c.search(/\S/))){var d=qb("_m",b.ecom_method),g=qb("_t",b.ecom_type),m=qb("_jst",Zb()),c="{"+c+d+g+m+"}";H(J({id:a[0]},Uc,!1,!0)+(";ids="+Da(a.join()))+
(";e="+encodeURIComponent(c)))}}}function qb(a,b){var c=',"'+a+'":';if(!b||!b.length)return c+"[]";try{return c+'["'+b.join('","')+'"]'}catch(d){}return c+"false"}function Vc(){var a=$($b);if(null===a)return null;a=a.split("|");if(3!==a.length)return null;var b=a[2],b=r()-b;return 0>b||b>ac?null:{id:a[0],version:a[1]}}function bc(a){rb=!0;a.length&&pb(lb("/js/dyn-goal-config.js?ids="+a.join(",")))}function n(){}function Ga(a){a&&"object"===typeof a&&(!pa&&"id"in a)&&(pa=a.id)}function sb(){var a=
0,b=0;f.documentElement&&(f.documentElement.clientWidth||f.documentElement.clientHeight)?(a=f.documentElement.clientWidth,b=f.documentElement.clientHeight):"number"==typeof e.innerWidth&&(a=e.innerWidth,b=e.innerHeight);return""+a+"*"+b}function Ha(a){return!Va?void 0:Va[a]}function Wc(a){return(a=Ha(a))&&Wa?a-Wa:void 0}function cc(){if(Va){for(var a=0,b="domInteractive domContentLoadedEventStart domContentLoadedEventEnd domComplete loadEventStart loadEventEnd".split(" "),c=0;c<b.length;c++){var d=
Ha(b[c]);if(0<d&&(d<a||0==a))a=d}return a?a:void 0}}function ba(a,b){var c=1<arguments.length?b:pa;return a&&"object"===typeof a&&("id"in a&&a.id||c)}function dc(a,b,c,d){var g=parseInt(a,10);return isNaN(g)||""+g!==""+a||g<b||g>c?d||0===d?d:null:g}function ec(a,b){if("URL"in window){var c=b;try{c=new URL(a)}catch(d){return b}return c?a:b}return a||b}function fc(a,b){if("URL"in window){var c=b;try{c=new URL(a)}catch(d){return"d:"}return c?"e:":"d:"}return a?"e:":"d:"}function gc(a,b,c){if(!a)return b;
if("URL"in window){try{var d=new URL(a);if(d)return a}catch(g){}try{if(d=new URL(a,c))return d.href?d.href:d.toString()}catch(m){}return b}return a}function hc(a,b,c){if(!a)return"d:";if("URL"in window){try{var d=new URL(a);if(d)return"e:"}catch(g){}try{if(d=new URL(a,c))return"h:"}catch(m){}return"d:"}return"e:"}function J(a,b,c,d){oa&&Fa(Ia,++F);var g="id"in a?a.id:pa,m=ec(a.url,u.href),h=ec(a.referrer,f.referrer),l=gc(a.url,u.href,u.href),k=gc(a.referrer,f.referrer),x="title"in a?a.title:f.title,
w;w=tb;null===w&&(w=Xc());w=null!==w?w?1:0:null;var t="userid"in a?a.userid:U||0===U?U:void 0,O=V?V:void 0,p;p=qa&&a.bfCache;var n="pageView"===a.type&&a.timespent,y=[];pa&&g!==pa&&y.push("sec");"dataLayer"in e&&y.push("dl");M&&y.push(["ecom"].concat(M).join("-"));var Ba=Yc();Ba&&Ba.length&&y.push(["jst"].concat(Ba).join("-"));p&&y.push("bfc");P&&n&&y.push("ts");e.top!==e&&y.push("frame");(!0===Q.webdriver||f.$cdc_asdjflasutopfhvcZLmcfl_)&&y.push("wda");Ja&&y.push.apply(y,Ja);p=y.join(",");var ic,
n=(new Date).getTimezoneOffset(),y="";if(e.Intl)try{y=e.Intl.DateTimeFormat().resolvedOptions().timeZone||""}catch(Zc){s&&console.warn("[TopMailRu] Error#1.1",Zc)}ic=n+"/"+y;var n=jc,n=null!==n?n:Vc(),kc=Mb(a.start),y=lc(),Ba=mc();b=b+"?_="+Math.random()+(g?";id="+encodeURIComponent(g):"")+(l?";u="+encodeURIComponent(l):"")+(k?";r="+encodeURIComponent(k):"")+(m!==l?";u2="+fc(a.url,u.href)+hc(a.url,u.href,u.href):"")+(h!==k?";r2="+fc(a.referrer,f.referrer)+hc(a.referrer,f.referrer):"");g=dc(a.gender,
1,2);b+=null!==g?";gender="+g:"";g=dc(a.age,1,127);d=b+(null!==g?";age="+g:"")+("pid"in a?";pid="+encodeURIComponent(a.pid):"")+(void 0!==t?";userid="+encodeURIComponent(t):"")+(void 0!==O?";uparams="+Da(za(O)):"")+(d&&x?";title="+encodeURIComponent(x):"")+(";s="+$c+";vp="+ub+";touch="+ad+";hds="+bd)+";sid="+vb+";ver="+cd+";tz="+encodeURIComponent(ic)+";st="+cc();if(c){if(!Va||!wb)c="";else{c=[];c.push(wb.type);c.push(wb.redirectCount);c.push(Wa);for(x=0;x<nc.length;x++)c.push(Wc(nc[x]));c=c.join("/")}c=
";nt="+c}else c="";c=d+c+(kc?";ct="+kc:"")+(Xa?";rt="+Xa:"")+(Ya?";gl="+Ya:"")+("device"in a?";device="+encodeURIComponent(a.device):"")+";ni=";if(!Q||!Q.connection)d="";else{d=Q.connection;x=[];for(O=0;O<oc.length;O++){t=d[oc[O]];if(void 0!==t)switch(t){case !0:t=1;break;case !1:t=0;break;default:t=(""+t).replace(/\//g,"_")}x.push(t)}d=x.join("/")}return c+d+("params"in a?";params="+Da(za(a.params)):"")+(null!==w?";detect="+w:"")+(T||oa?";lvid="+Da([ia,r(),F,ja].join(":")):"")+(p?";opts="+encodeURIComponent(p):
"")+(n?";flocid="+encodeURIComponent(n.id)+";flocv="+encodeURIComponent(n.version):"")+(y?";fpid="+encodeURIComponent(y):"")+(Ba?";vkidExtId="+encodeURIComponent(Ba):"")+("version"in a?";appver="+encodeURIComponent(a.version):"")+(ka.support?";visible="+ka.getValue():"")+";js=13"}function xb(a){a=";e="+encodeURIComponent(a);for(var b=0;b<D.length;b++)H(J(D[b],aa,!1,!0)+a)}function dd(){tb=!0;pc(1);if(!yb&&!Ka){Ka=!0;for(var a=0;a<D.length;a++)Xb(D[a])}}function ed(){pc(0);tb=!1}function Xc(){var a=
$(qc);if(null===a)return null;a=a.split("|");if(2!==a.length)return null;var b=a[1],b=r()-b;if(0>b||b>rc)return null;a=parseInt(a[0],10);return isNaN(a)?null:a}function pc(a){var b=r();a=[a,b].join("|");Ea(qc,a,{path:"/",expires:rc})}function fd(){var a=0;Za&&(a=r()-Za);gd||(z.dcl3=setTimeout(function(){xb("DCL/3")},Math.max(3E3-a,0)))}function hd(){var a=0;$a&&(a=r()-$a);id||(z.pvt2=setTimeout(function(){xb("PVT/2")},Math.max(2E3-a,0)));jd||(z.pvt15=setTimeout(function(){xb("PVT/15")},Math.max(15E3-
a,0)))}function sc(){zb||setInterval(function(){_tmr.beat()},6E4)}function kd(a,b,c,d){if(!b||!d||d===Ab&&b===Ab&&c===Ab)return null;b={goal:ld+b,value:c||0,params:{product_id:d}};a&&(b.id=a);return b}function ab(){Za=r();f.addEventListener?(L(f,"DOMContentLoaded",ab),_tmr.onready()):f.attachEvent&&"complete"===f.readyState&&(L(f,"readystatechange",ab),_tmr.onready());tc()}function Bb(a){$a=r();if(qa){if(a.persisted){La=Ma=bb=0;Cb=Db=!1;P&&A.launch();a=Eb;Eb=[];for(var b=0,c=a.length;b<c;b++)_tmr.callbackOnReady(a[b]);
a=cb;cb={};for(b in a)_tmr.pageView(a[b]);sc()}}else L(e,"load",Bb);_tmr.onready();_tmr.onload()}function Na(){qa||(L(e,"unload",Na),L(e,"beforeunload",Na));_tmr.unload()}function tc(){P&&A.launch();if(md){if(!nd&&!uc&&(window.addEventListener("message",function(a){var c=null;try{if(c=a.data,Z(c)||(c=Oa(c)),"LOAD_BUTTONS_SCRIPT"===c.type){var d;var g=document.referrer;a=null;var m=[],h=(""+c.lang).toLowerCase();Qb(h,vc)||(h=vc[0]);m.push(h);"windows-1251"===document.characterSet?m.push("win1251"):
"windows-1252"===document.characterSet&&m.push("win1252");try{a=(new URL(g)).host}catch(e){}d=a&&od.test(a)?"https://"+a+"/top_constructor/buttons_"+m.join("_")+".js":lb("/js/dyn-goal-wizard-"+m.join("-")+".js");pb(d)}}catch(k){}}),window.opener))try{window.opener.postMessage({type:"COUNTER_SCRIPT_READY",pageViewIds:ta},"*")}catch(a){}rb||(db.push.apply(db,ta),bc(ta))}}if("[object Array]"===Object.prototype.toString.call(_tmr)){var Nb=(new Date).getTime(),hb=null,Ta=null,Ua=null,Ca=null,N=null,ib=
null,aa="/tracker",Uc="/datalayer",e=window,Q=navigator,f=document,u=location,W="string"===typeof u.hostname?u.hostname:"",Pa=-1!=W.search(/(^|\.)odnoklassniki\.ru$/)||-1!=W.search(/(^|\.)ok\.ru$/),wc=-1!=W.search(/(^|\.)vk\.com$/);W.search(/(^|\.)mail\.ru$/);var pd=-1!=W.search(/(^|\.)lamoda\.ru$/),qd=-1!=W.search(/(^|\.)kommersant\.ru$/);W.search(/(^|\.)top\.mail\.ru$/);W.search(/(^|\.)dzen\.ru$/);var nd=-1!=W.search(/^id\.vk\.com$/),uc=!1;try{uc=-1!=(new URL(f.referrer)).hostname.search(/^id\.vk\.com$/)}catch(Cd){}var xc=
"string"===typeof u.search&&-1!=u.search.search(/[?&]rb_clickid=/),s="string"===typeof u.search&&-1!=u.search.search(/[?&]tmr_debug=1(?:&|$)/),Ic=!1,zb=Pa||wc||pd||qd,id=!xc,jd=Pa,gd=!xc,yb=!1,P=e.performance&&"visibilityState"in f,rd=[36383],sd=!(Pa||wc),yc=e.JSON&&e.JSON.stringify&&e.JSON.parse,qa="onpageshow"in e&&"onpagehide"in e,zc="URL"in e,za=yc?e.JSON.stringify.bind(e.JSON):function(a){return""},Oa=yc?e.JSON.parse.bind(e.JSON):function(a){return{}},vc=["ru","en"],od=/^((ads\d+\.target\.vk\.ru)|(target\d+\.target\.vk\.ru)|(ads\.vk\.local(:\d+)?))$/,
md=zc,Ub="POST",Vb="application/x-www-form-urlencoded",T=!(0===u.hostname.search(/^(\d+.)+\d+$/g)||-1!==u.hostname.search(/:/g)),ha=null,oa=Sc(),ob={domain:Tc(),path:"/",expires:287712E5};(function(){var a;if(a=f.cookie.match(RegExp("(?:^|; )(tmr_tcdhn\\d+)=([^;]*)","g"))){for(var b=[],c,d=0,g=a.length;d<g;d++)c=a[d],(c=c.match(/(?:^|; )(tmr_tcdhn\d+)=([^;]*)/))&&b.push(c.slice(1));a=b}else a=null;if(a){d=0;for(g=a.length;d<g;d++)b=a[d][0],nb(b,ob)}})();var Ka=!1,tb=null,rc=864E5,qc="tmr_detect",
td=function(){function a(a,b){for(var c=a.length,h,e,k=0;k<b;k++)e=Math.floor(Math.random()*c),h=a[k],a[k]=a[e],a[e]=h;return a.slice(0,b)}function b(b,g){var m=f.createElement("div"),e=String.fromCharCode(97,100,118,98,108,111,99,107,32,97,100,118,101,114,116,98,108,111,99,107,32,97,100,118,101,114,116,66,108,111,99,107,32,98,45,114,98,32,98,97,110,110,101,114,95,50,52,48,32,112,45,116,97,114,103,101,116,32,112,117,98,95,51,48,48,120,50,53,48,32,112,117,98,95,51,48,48,120,50,53,48,109,32,112,117,
98,95,55,50,56,120,57,48,32,114,98,95,98,111,100,121,32,114,98,45,102,108,111,97,116,105,110,103,32,114,98,45,115,108,111,116,32,114,98,45,118,105,100,101,111,45,119,105,100,103,101,116,32,116,101,120,116,45,97,100,32,116,101,120,116,45,97,100,45,108,105,110,107,115,32,116,101,120,116,45,97,100,115,32,116,101,120,116,45,98,97,110,110,101,114,32,116,101,120,116,95,97,100,32,116,101,120,116,95,97,100,115,32,116,101,120,116,65,100,32,116,101,120,116,97,100,32,116,101,120,116,65,100,115,32,116,101,120,
116,97,100,115,32,116,103,98,45,98,97,110,110,101,114,32,116,114,103,45,98,45,98,97,110,110,101,114,45,98,108,111,99,107).split(" "),e=a(e,c);m.setAttribute("class",e.join(" "));m.setAttribute("style","position: absolute !important; top: -9999px !important; left: -9999px !important; width: 1px !important; height: 1px !important;");m.setAttribute("id","trg-b-banners-1");m.setAttribute("data-view","SlotView.mimic");try{this.bait=f.body.appendChild(m)}catch(l){}this.bait.offsetParent;this.bait.offsetHeight;
this.bait.offsetLeft;this.bait.offsetTop;this.bait.offsetWidth;this.bait.clientHeight;this.bait.clientWidth;this.loopNumber=0;this.fnPositive=b||null;this.fnNegative=g||null;var k=this;setTimeout(function(){k._checkBait.call(k)},1)}var c=7;b.prototype._checkBait=function(){if(Ka)this._stop();else{var a=!1;try{a=null!==f.body.getAttribute("abp")}catch(b){}a||(a=!Pb(this.bait,!0));(!0===a||10<=++this.loopNumber)&&this._stop();var c;if(a&&this.fnPositive)try{c=this.fnPositive,c()}catch(e){s&&console.warn("[TopMailRu] Error#1.9",
e)}else if(!a&&10>this.loopNumber){var l=this;setTimeout(function(){l._checkBait.call(l)},50*this.loopNumber)}else try{c=this.fnNegative,c()}catch(k){s&&console.warn("[TopMailRu] Error#1.10",k)}}};b.prototype._stop=function(){try{f.body.removeChild(this.bait)}catch(a){s&&console.warn("[TopMailRu] Error#1.11",a)}};return function(a,c){new b(a,c)}}(),M=null,Ac="ecommerce",X="dataLayer",ua=null,Fb=!1,eb=[],ud=[36383,2540645,3171181,3074137,2057653],vd=[],Gb;(function(){function a(a,b){for(var c=0,d=
b.length;c<d;c++)-1===a.indexOf(b[c])&&a.push(b[c])}function b(b,c,d){for(var g={ecom_method:[],ecom_type:[],ecom_data:{events:[]}},e=0,m=b.length;e<m;e++){var k=q[b[e]];if(k){a(g.ecom_method,[b[e]]);for(var h=0,l=k.length;h<l;h++)for(var f=0,t=d.length;f<t;f++){var w=k[h][d[f]];if(w)for(var x=0,n=c.length;x<n;x++)if(-1!==k[h].type.indexOf(c[x])){a(g.ecom_type,[c[x]]);a(g.ecom_data.events,w);break}}}}return g}function c(a,b,c){if(!a||!c||!(b in q))return null;for(var d,g=0,e=q[b].length;g<e;g++)if(d=
q[b][g],c in d&&-1!==d[c].indexOf(a))return{ecom_method:[b],ecom_type:d.type.slice(),ecom_data:{}};return null}function d(a){for(var d=[],e,h,t=0,w=a.length;t<w;t++)if(h=a[t]){e=null;try{if(h.ecommerce)e=g(h)||m(h);else if(null===h.ecommerce)e=null;else if(h.event){var ca={event:h.event,ecommerce:{}};e=g(ca)||m(ca)}else if("event"===h[0]){var Bc=h[1],q=h[2],B=c(Bc,k,n);B&&(B.ecom_data[Bc]=q);e=B}else if(h.event===Ac)a:{for(var Qa=b([l],[f],[p]),E=0,v=Qa.ecom_data.events.length;E<v;E++)if(!h.hasOwnProperty(Qa.ecom_data.events[E])){e=
null;break a}delete Qa.ecom_data.events;Qa.ecom_data[Ac]=h;e=Qa}}catch(r){s&&console.warn("[TopMailRu] Error#1.23",r),e=null}e&&(d.push(e),eb.push(e))}if(d.length){a=0;for(e=d.length;a<e;a++)Yb(fb,d[a]);M||(M=[0,0,X]);M[0]+=d.length;e=a=0;for(t=d.length;e<t;e++)a+=za(d[e].ecom_data).length;M[1]+=a}}function g(a){var b,d;for(d in a.ecommerce)if(a.ecommerce.hasOwnProperty(d)&&(b=c(d,l,w))){if(a.event&&(d=c(a.event,l,t)))for(var g=0,e=b.ecom_type.length;g<e;g++)-1===d.ecom_type.indexOf(b.ecom_type[g])&&
(b.ecom_type.splice(g,1),e--,g--);b.ecom_data=a.ecommerce;return b}return null}function m(a){var b=a.event,d=c(b,l,t);d&&(d.ecom_data[b]=a.ecommerce);return d}function h(a){if((a=e[a])&&"function"===typeof a.push)d(a),ua=a.push,a.push=function(){var a=ua.apply(this,arguments);d([].slice.call(arguments,0));return a}}var l="push",k="gtag",f="gse",w="inner",t="outer",n="external",p="required",q={};q[k]=[{type:["gee"],external:"add checkout checkout_option checkout_progress click detail promo_click remove select_content set_checkout_option view_refund".split(" ")},
{type:["ga4"],external:"earn_virtual_currency join_group level_end level_start level_up post_score select_content spend_virtual_currency tutorial_begin tutorial_complete unlock_achievement ad_impression login search share sign_up add_payment_info add_shipping_info add_to_wishlist generate_lead select_item select_promotion view_cart view_item_list".split(" ")},{type:["gee","ga4"],external:"add_to_cart begin_checkout purchase refund remove_from_cart view_item view_promotion".split(" ")}];q[l]=[{type:[f],
required:["transactionId","transactionTotal"]},{type:["ga4"],outer:b([k],["ga4"],[n]).ecom_data.events},{type:["gee"],inner:"click checkout checkout_option impressions promoClick promoView refund".split(" "),outer:"addToCart checkout checkoutOption productClick productDetail ProductImpressions promotionClick promotionView removeFromCart transactionPush".split(" ")},{type:["ym","gee"],inner:["add","detail","purchase","remove"]},{type:["mt"],outer:"mt_order mt_refund mt_view_item_list mt_select_item mt_view_item mt_add_to_wishlist mt_add_to_cart mt_view_cart mt_remove_from_cart mt_begin_checkout mt_add_shipping_info mt_add_payment_info mt_view_promotion mt_select_promotion".split(" ")}];
Gb=function(a){if(!(a===X&&ua)){a!==X&&(eb=[]);var b=e[X];b&&"function"===typeof b.push&&ua&&(b.push=ua,ua=null);h(a);Fb=!0}}})();var Zb=function(){var a=[{id:"gtag",globalVars:["google_tag_manager"]},{id:"ga",globalVars:["GoogleAnalyticsObject"]},{id:"ym",globalVars:["Ya",{re:"yaCounter\\d+"}]},{id:"vk",globalVars:["VK"]},{id:"vk",globalVars:["vkAsyncInit"]}],b={};return function(){var c;try{c=Object.keys(e).join(",")}catch(d){c=null}for(var g=[],m,h=0,l=a.length;h<l;h++){m=b[a[h].id];if(void 0===
m)a:{m=a[h].globalVars;for(var k=c,f=0,w=m.length;f<w;f++){var t=m[f];if("string"===typeof t&&!(t in e)||"string"===typeof t.re&&(k&&-1===k.search(RegExp("($|,)"+t.re+"(,|^)","m"))||1===w)){m=!1;break a}}m=!0}m&&(b[a[h].id]=!0,fa(a[h].id,g)||g.push(a[h].id))}return g}}(),Yc=Zb,ac=864E5,$b="tmr_floc",jc=null;(function(a){try{f.interestCohort&&"function"===typeof f.interestCohort&&f.interestCohort().then(function(a){jc={id:a.id,version:a.version};a=[a.id,a.version];var b=r();a=a.concat(b).join("|");
Ea($b,a,{path:"/",expires:ac})},function(){})}catch(b){}})();var Hb=!1,Ya=null,Ra=null,Ib=!1,Cc;(function(){function a(){Q.permissions.query({name:g}).then(function(a){b(a)})}function b(b){f&&e.clearTimeout(f);try{var d=b.state;Ra=d in l?l[d]:h;Ib=d===m;Hb&&(c(Ib),f=e.setTimeout(a,k))}catch(g){}}function c(a){try{a?Q[g].getCurrentPosition(d):d(null)}catch(b){}}function d(a){if(a)try{var b=a.coords,b=[b.latitude,b.longitude,b.accuracy,b.altitude,b.altitudeAccuracy,b.heading,b.speed];a=0;for(var c=
b.length;a<c;a++)"number"!==typeof b[a]&&(b[a]="");b.splice(0,0,Ra);Ya=b.join("/")}catch(d){}else Ya=Ra}var g="geolocation",m="granted",h="u",l={denied:"d"};l[m]="g";l.prompt="p";var k=6E4,f=null;(function(){Ra=h;d(null);try{g in Q?Q.permissions&&Q.permissions.query({name:g}).then(function(a){b(a);a.onchange=function(){b(a)}}):Ra="n"}catch(a){}})();Cc=c})();var ka={support:!1},ka=function(){function a(){g(h)}function b(){g(h,s)}function c(a){a.persisted&&(p[h]=null,p[l]=null,g(h,n))}function d(){return k?
!f[k]:null}function g(a,b){var c=r(),g="undefined"===typeof b?d():b;if(null===p[a])p[a]={ts:c,state:g,total:0};else{var e=p[a];if(e.state!==g&&!(e.state===s&&g!==n)){var h=c-e.ts,k=e.state;e.ts=c;e.state=g;h<m||(k===n?(e.total+=h,u&&u(c,h)):k===t&&y&&y(c,h))}}}var m=5,h="auto",l="user",k=null,x=null,n=!0,t=!1,s=null;"hidden"in f?(k="hidden",x="visibilitychange"):"mozHidden"in f?(k="mozHidden",x="mozvisibilitychange"):"webkitHidden"in f?(k="webkitHidden",x="webkitvisibilitychange"):"msHidden"in f&&
(k="msHidden",x="msvisibilitychange");var p={};p[h]=null;var u=p[l]=null,y=null;return{support:!!k,auto:function(d,g){u=d||null;y=g||null;k&&(a(),q(f,x,a));qa?(q(e,"pageshow",c),q(e,"pagehide",b)):(q(e,"beforeunload",b),q(e,"unload",b))},set:function(a){g(l,!!a)},getLog:function(){var a=r(),b={},c,d;for(d in p)c=p[d],b[d]=c?c.total:0,c&&c.state&&(b[d]+=a-c.ts);return b},getValue:d}}();ka.auto();var Dc={enabled:!1};if(zc){var Ec=function(){var a="checkbox color date datetime-local email file month number password radio range search tel text time url week".split(" ");
return{analyze:function(b){if(!b)return null;for(var c=[].slice.apply(b.elements),d=[],g=[],e=0,h=c.length;e<h;e++){var f;a:switch(f=c[e],f.tagName.toLowerCase()){case "button":f=!1;break a;case "input":var k=f.type.toLowerCase();if(k&&-1===a.indexOf(k)){f=!1;break a}default:f=Pb(f,!1)&&f.name&&!1===f.disabled}f&&(d.push(c[e].name),g.push(c[e].type))}return{node:b,inputsName:d.length?d:null,inputsType:g.length?g:null}},getFormByInput:function(a){if(!a)return null;a=a.form||a.getAttribute("form");
return"string"===typeof a?document.getElementById(a)||null:a instanceof HTMLElement?a:null}}}(),Dc=function(){function a(a){a=a||e.event;var c=(a.which||a.keyCode)===J;if("which"in a&&a.which===H||"button"in a&&a.button&H||c){a:{a=a.target||a.srcElement;for(var c=0,d=h.length;c<d;c++){var f;b:{f=a;for(var B=h[c],r=0,E=B.types.length;r<E;r++){var v;c:{var q=f;v=B.types[r];var p=null;if(v.filter.tagName)for(var K=0,u=v.filter.tagName.length;K<u&&!(p=Ob(q,v.filter.tagName[K]));K++);else p=q;if(p){if(v.filter.attr)for(q in q=
void 0,v.filter.attr)if(v.filter.attr.hasOwnProperty(q)&&(K=v.filter.attr[q],u=p[q],!0===K&&!u||!1===K&&u||ga(K)&&-1===K.indexOf(u))){v=null;break c}v={source:p,type:v.type,detail:p.tagName}}else v=null}if(v){v.category=B.category;f=v;break b}}f=null}if(f){a=f;break a}}a=null}if(a){if(a.category===g){try{a.data=new URL(a.source.href)}catch(A){}if(!a.data)return}else if(a.category===m){if(a.data=Ec.analyze(Ec.getFormByInput(a.source)),!a.data)return}else return;c=C;if(c.enabled&&c.modes){d=0;for(f=
c.modes.length;d<f;d++)if(B=a,r=c.modes[d],B.category===r.mode)if(B.category===g||B.category===m){if(r=r.categories,B.data){E=void 0;c:{E=0;for(v=r.length;E<v;E++){for(var p=B,q=r[E],K={category:B.category},u=[],Y=0,z=q.types.length;Y<z;Y++){var va=q.types[Y],D=S({type:q.category},K),L=t in va,O;w in va?O=b(p,va,D,w):L&&(O=S({source:p.source,data:p.data,detail:va.type},D));if(O&&(!L||!b(p,va,D,t)))if(u.push(O),(va.rule&y)!==y)break}if(p=u.length?u:null){E=p;break c}}E=null}if(E){B=0;for(r=E.length;B<
r;B++)c:{v=E[B];p={type:"sendEvent",category:"_"+v.category,action:v.detail};if(v.category===g&&(v.type===l||v.type===k)){if(p.label=v.data.href,!p.label)break c}else if(v.category===n&&(p.label=v.data.node.action,!p.label))break c;_tmr.push(p)}}}}else s&&console.warn("[TopMailRu] Error#1.24","Not found tracking for type",B.type)}}}}function b(a,b,d,e){var g=!1,h=b[e];if(ga(h)){var f=b[e+"Rule"]||A;e=(f&r)===r;for(var f=(f&p)===p,k=0,m=h.length;k<m&&!(g=c(a,h[k]),e&&g);k++)if(f&&!g)return null}else g=
c(a,h);return!g?null:S({source:a.source,data:a.data,detail:b.type},d)}function c(a,b){var c=b.rule||A,g=(c&r)===r,c=(c&p)===p,e=!1,h;for(h in b)if(b.hasOwnProperty(h)&&"rule"!==h){var e=b[h],f;switch(h){case "domain":f=jb(a.data);break;case "fileExtension":f=Rb(a.data.pathname,/.\.([^\.]+)$/,1)||"";break;default:f=a.data[h]}e=!0===e?!!(ga(f)?f.length:f):!1===e?!(ga(f)?f.length:f):d(f,e);if(g&&e)break;else if(c&&!e)return!1}return e}function d(a,b){var c=a;if(c)if(ga(c)){if(!c.length)return!1}else c=
[c];else return!1;var d=b,e=A;if(Z(d)&&!ga(d)){if(!ga(d.value))return!1;e=d.rule||e;d=d.value}a:{for(var g=(e&z)===z,h=(e&r)===r,e=(e&p)===p,f=!1,k=0,m=d.length;k<m;k++){var l=d[k];if(l){var n="string"===typeof l;n&&!g&&(l=l.toLowerCase());var q=l instanceof RegExp;if(n||q){var f=!0,x;b:{x=c;for(var s=g,t=0,w=x.length;t<w;t++){var u=s?x[t]:x[t].toLowerCase();if(q&&l.test(u)||n&&l===u){x=!0;break b}}x=!1}if(h&&x){c=!0;break a}else if(e&&!x){c=!1;break a}}}}c=h?!1:e?f?!0:!1:void 0}return c}var g="click",
m="submit",h=[{category:m,types:[{type:"button",filter:{tagName:["input","button"],attr:{type:["submit","image"]}}}]},{category:g,types:[{type:"a",filter:{tagName:["a"],attr:{href:!0}}}]}],l="file",k="resource",n="submit",w="filter",t="stop",r=1,p=2,z=4,y=8,A=r,C={enabled:!0,modes:[{mode:m,categories:[{category:n,types:[{type:"lead",filter:[{inputsName:["phone"],inputsType:["tel"],rule:r},{inputsName:["email"],inputsType:["email"],rule:r}],filterRule:p,stop:{inputsName:{value:["password"]}}},{type:"form",
filter:{inputsName:!0}}]}]},{mode:g,categories:[{category:"contact",types:[{type:"email",filter:{protocol:["mailto:"]}},{type:"phone",filter:{protocol:["tel:"]}}]},{category:l,types:[{type:"file",filter:{fileExtension:"7z bz2 gz apk iso cab dmg msi rar tar zip exe txt doc docx ppt pptx xls xlsx csv pdf psd rtf ods djvu eps 3gp aac ac3 avi flac flv divx midi mka mkv mp3 mp4 mpeg mpg mov ogg vob wav webm wma wmf wmv torrent".split(" ")}}]},{category:k,types:[{type:"outgoing",rule:y,stop:{domain:[Hc(u.host,
3,!1)],href:[/password/]}},{type:"messenger",filter:{domain:kb("vk.me t.me telegram.me telegram.im web.telegram.org m.me web.whatsapp.com api.whatsapp.com chat.whatsapp.com wa.me".split(" "))},stop:{href:[/password/]}},{type:"social",filter:{domain:kb("vk.com vkontakte.ru m.vk.com vk.ru ok.ru m.ok.ru odnoklassniki.ru facebook.com m.facebook.com fb.com twitter.com linkedin.com instagram.com tiktok.com youtube.com youtu.be m.youtube.com".split(" "))},stop:{href:[/password/]}}]}]}]},H=1,J=13;return{enabled:!0,
start:function(){q(f,"click",a);q(f,"keypress",a)}}}();sd&&Dc.start()}var A=function(){function a(){b(null)}function b(a){g();a?(V=a===Y,ra=a):ra=T&&null!==V?V?Y:$:f.visibilityState;a=ca();for(var b in la)z(b,a)}function c(){if(!1!==N){L(e,ba,ka);ka=null;e.clearInterval(ja);na=ja=null;L(f,K,ea);ea=null;T&&(L(e,U,ha),L(e,W,ia),ia=ha=null);m(!0);for(var a in da){var b=a,c=da[b];c&&(c=c.key,P(b),F(),delete da[b],B(null,c))}G=null;ma=[];xa=[];I={};da={};la={};N=!1}}function d(a,b,c){var d=a+"_"+b;if(d in
I)return!1;var e=r(),g=ca(),h=C(d,e,vb);b=I[d]={id:a||null,name:b,key:h,canUseInBackground:!!c,startTS:e,updateTS:g,timespent:{}};if(a)if(xa.push(d),d=b.canUseInBackground,b=la[a]){if(c=b.isActive,!c&&(e=G&&fa(a,G)))if(c=ra===Y||d)b.updateTS=g,b.isActive=!0}else e=G&&fa(a,G),c=ra===Y||d,la[a]={isActive:e&&c,updateTS:g,timespent:{}};else ma.push(d);return!0}function g(a,b){var c,d;2>arguments.length?(c=xa.concat(ma),d=E):(c=[a+"_"+b],d=X);h(c,d)}function m(a,b,c){var d=!1,e=[],g=[];2>arguments.length?
(e=xa.slice(),(d=!!arguments[0])&&(e=e.concat(ma))):(d=a+"_"+b,-1!==xa.indexOf(d)?e=[d]:-1!==ma.indexOf(d)&&(c?e=[d]:g=[d]));h(e,Z);h(g,X)}function h(a,b){var c=ca(),d=[],e,g,h;e=0;for(g=a.length;e<g;e++)h=a[e],-1!==xa.indexOf(h)?l(h,b,c):-1!==ma.indexOf(h)&&d.push(h);e=0;for(g=d.length;e<g;e++)h=d[e],l(h,b,c);if(b===E&&(S=c,S-N>=sa)){for(var f in I)n(f);for(f in da)if(c=f,d=da[c])P(c),B(c,d.key);N=S}}function l(a,b,c){var d=I[a];if(d&&!1!==d.updateTS)if(d.timespent[ra]=(d.timespent[ra]||0)+(c-(d.updateTS||
S)),-1!==ma.indexOf(a)&&y(null,c),b===Z)d.updateTS=!1,n(a);else if(b===v){d.updateTS=c;var e;a:{if(b=I[a])for(e in b.timespent)if(b.timespent[e]>pa){e=!1;break a}e=!0}e?(k(a),F()):n(a)}else d.updateTS=b===E?null:c,k(a),F()}function k(a,b,c){var d=I[a];if(!d)return null;var e=b||d.key;b=R[e];R[e]={uid:a,name:d.name,counterID:c||d.id||G,canUseInBackground:d.canUseInBackground,isActive:!1!==d.updateTS,startTime:d.startTS,timespent:{}};a=R[e].timespent;var d=d.timespent,g;for(g in d)a[g]=d[g];if(c&&(c=
la[c]))if(e=R[e]){e.common={};e=e.common;c=c.timespent;for(var h in c)e[h]=c[h]}return b||null}function n(a){var b=I[a];b&&(k(a),s(a,b.key))}function s(a,b){var c=R[b];if(c)if(ga(c.counterID)){var d=R[b];if(d){var c=d.counterID,e=[],g,h,f,m;if(c){f=0;for(m=c.length;f<m;f++){h=c[f];g=C(b,h);e.push(g);h=k(a||d.uid,g,h);var l=void 0;h&&(l=R[g],M(l.timespent,h.timespent),h.common&&(l.common=l.common||{},M(l.common,h.common)))}}delete R[b];F();if(a&&a in I)if(d.isActive){u(a);f=0;for(m=c.length;f<m;f++)if(d=
la[c[f]])for(var n in d.timespent)d.timespent[n]=0}else p(a);f=0;for(m=e.length;f<m;f++)t(e[f])}}else if(n=R[b])(c=a&&a in I)&&!n.isActive&&p(a),e=t(b),c&&(e&&n.isActive)&&u(a)}function t(a){var b;if(b=R[a]){var c=Q(b.timespent);if(!1===b.canUseInBackground&&b.isActive&&0===c.fg)b=null;else{c=[b.name,b.startTime,b.canUseInBackground?1:0,c.fg,c.bg];if(b.common){var d=Q(b.common);(d.fg||d.bg)&&c.push(d.fg,d.bg)}b={id:b.counterID,msg:c.join("/")}}}else b=!1;if(!b)return!1;c=";e="+encodeURIComponent("TS:"+
b.msg);H(J({id:b.id},aa,!1,!1)+c);delete R[a];F();return!0}function u(a){if(a=I[a])for(var b in a.timespent)a.timespent[b]=0}function p(a){if(a in I){var b;-1!==(b=ma.indexOf(a))&&ma.splice(b,1);if(-1!==(b=xa.indexOf(a)))if(xa.splice(b,1),b=I[a].id){var c=la[b];if(c){var d=c.isActive;d&&D(c,ca());d=A(b,a);d||(c.isActive=!1)}}delete I[a]}}function z(a,b){var c=la[a];if(c){var d=G&&fa(a,G),e=A(a);c.isActive=d&&e;c.updateTS=b}}function y(a,b){if(a){var c=la[a];c&&(c.isActive?D(c,ca()):c.updateTS=b)}else for(c in la)y(c,
b)}function A(a,b){for(var c in I)if(c!==b&&I[c].id===a&&(ra===Y||I[c].canUseInBackground))return!0;return!1}function D(a,b){a&&(a.timespent[ra]=(a.timespent[ra]||0)+(b-a.updateTS),a.updateTS=b)}function C(a){return[].join.call(arguments,"_")}function M(a,b){for(var c in b)a[c]=(a[c]||0)+(b[c]||0)}function Q(a){var b=a[Y]||0,c=0,d;for(d in a)d!==Y&&(c+=a[d]);return{fg:b,bg:c}}function ca(){return Math.floor(e.performance.now())}function F(){if(oa){var a={};a[ua]=R;a[wa]=Aa;Fa(ta,za(a)||"")}}function P(a){var b=
da[a];b&&(Aa[b.key]={uid:a,name:b.name,counterID:b.id,value:b.value})}function B(a,b){if(Aa[b]){var c;if(c=Aa[b])if(0===c.value)c=null;else{var d=[c.name,c.value].join("/");c={id:c.counterID,msg:d}}else c=!1;c&&(d=";e="+encodeURIComponent("TS:"+c.msg),H(J({id:c.id},aa,!1,!1)+d));!1!==c&&(delete Aa[b],F());if(c&&a&&(c=da[a]))c.value=0}}var X=1,E=2,v=4,Z=8,ba=qa?"pagehide":"unload",K="visibilitychange";"mozHidden"in f?K="mozvisibilitychange":"webkitHidden"in f?K="webkitvisibilitychange":"msHidden"in
f&&(K="msvisibilitychange");var U="focus",W="blur";"onfocusin"in f&&(U="focusin",W="focusout");var Y="visible",$="hidden",va=["0"],T=!1,pa=100,sa=12E4,N=!1,S=!1,G=null,ma=[],xa=[],I={},ra,V=null,ja,na,ea,ha,ia,ka,ta="tmr_tslog",ua="activity",wa="count",R={},da={},Aa={},la={};return{init:function(){if(oa){var a=Oa(ya(ta)||"{}");R=a[ua]||{};Aa=a[wa]||{}}for(var b in R)s(null,b);for(b in Aa)B(null,b)},launch:function(){!1===N&&(N=ca(),S=ca(),ra=T&&null!==V?V?Y:$:f.visibilityState,ka=c.bind(e),q(e,ba,
ka),na=a.bind(e),ja=e.setInterval(na,1E4),ea=b.bind(e,null),q(f,K,ea),T&&(ha=b.bind(e,Y),ia=b.bind(e,$),q(e,U,ha),q(e,W,ia)))},enable:function(a){if(G){if(fa(a,G))return;h(ma,v)}else{for(var b=0,c=va.length;b<c;b++)d(null,va[b],!1);G=[]}G.push(a);z(a,ca())},disable:function(a){if(G){var b;a:{b=0;for(var c=G.length;b<c;b++)if(G[b]==a)break a;b=-1}if(-1!==b&&(h(ma,v),G.splice(b,1),b=ca(),a=la[a]))a.isActive=!1,a.updateTS=b}},startActivity:d,updateActivity:g,stopActivity:m,incCount:function(a,b){var c=
a+"_"+b,d;if(!(d=da[c]))if(c in da)d=da[c];else{d=r();var e=C(b,d,vb);d=da[c]={id:a,name:b,key:e,startTS:d,value:0}}d&&d.id===a&&(d.value++,P(c),F())},defaultID:function(){return G?G[0]:void 0}}}(),rb=!1,sa=null,lc=function(){return sa};(function(){function a(){var a=T?$(h):null;if(a)try{var a=decodeURIComponent(a).split(":"),b=a[0],c=parseInt(a[1]||"");if(b&&c&&!isNaN(c))return{fpid:b,ts:c}}catch(d){}return null}function b(){var a=ya(f);if(a)try{if((a=Oa(a))&&a.fpid&&a.time)return{fpid:a.fpid,ts:a.time}}catch(b){}return null}
function c(){var a=ya(f);if(a)try{(a=Oa(a))&&(sa=a.fpid||null)}catch(b){}e()}function d(){e()}function e(){Fa(l,za({fpid:sa,ts:r()}))}var f="rb_sync_id",h="domain_sid",l="tmr_trgfpid";lc=function(){if("rb_sync"in window)try{sa=window.rb_sync.id}catch(c){}if(!sa){var d=b()||a();d&&(sa=d.fpid)}return sa};(function(){var e;if(!(e=b()))if(!(e=a()))a:{var g=oa?ya(l):null;if(g)try{if((g=Oa(g))&&g.fpid&&g.ts){e={fpid:g.fpid,ts:g.ts};break a}}catch(h){}e=null}if(e&&(sa=e.fpid,864E5>r()-e.ts))return;pb("https://privacy-cs.mail.ru/static/sync-loader.js",
c,d)})()})();var mc;(function(){var a=null,b=0;mc=function(){var c=r();if(b&&5E3>c-b)return a;b=c;return a=T?$("vkidExtId"):null}})();var cd="60.6.0",bb=0,Ma=0,vb=Tb(16),U=null,V=null,La=0,Ia="tmr_reqNum",F=null;T&&(F=$(Ia)||null,null!==F&&nb(Ia,ob));oa&&null===F&&(F=ya(Ia)||null);F=null===F?0:parseInt(F,10);oa&&Fa(Ia,F);var wd=["c8fdd627023b870e211a908648e1a5e1"],ja=(T?$("tmr_lvid"):null)||(oa?ya("tmr_lvid"):null),ia=(T?$("tmr_lvidTS"):null)||(oa?ya("tmr_lvidTS"):null);if(null===ja||-1===ja.search(/^[0-9a-fA-F]+$/)||
Qb(ja,wd))ja=Tb(32),ia=null;Wb("tmr_lvid",ja);if(null===ia||-1===ia.search(/^\d+$/))ia=""+r();Wb("tmr_lvidTS",ia);var pa=0,D=[],ta=[],gb=[],fb=[],db=[],cb={},ad="ontouchstart"in e||1<(Q.maxTouchPoints||Q.msMaxTouchPoints)?"1":"0",bd=e.devicePixelRatio||0,$c=function(){var a=e.screen;return a?a.width+"*"+a.height:""}(),ub=sb();(function(){var a=null;try{"ResizeObserver"in e&&(a=new ResizeObserver(function(){ub=sb()}),a.observe(f.documentElement))}catch(b){s&&console.warn("[TopMailRu] Error#1.33","Viewport size measurement error",
b),a=null}a||q(e,"resize",function(){ub=sb()})})();var Jb=e.performance||e.mozPerformance||e.msPerformance||e.webkitPerformance||{},Va=Jb.timing||{},wb=Jb.navigation||{},nc="unloadEventStart unloadEventEnd redirectStart redirectEnd fetchStart domainLookupStart domainLookupEnd connectStart connectEnd secureConnectionStart requestStart responseStart responseEnd domLoading domInteractive domContentLoadedEventStart domContentLoadedEventEnd domComplete loadEventStart loadEventEnd".split(" "),xd="startTime duration firstInterimResponseStart redirectStart redirectEnd fetchStart domainLookupStart domainLookupEnd connectStart connectEnd secureConnectionStart requestStart responseStart responseEnd".split(" "),
Wa=Ha("navigationStart"),yd=Ha("domContentLoadedEventStart"),zd=Ha("loadEventStart"),N=Wa,Xa=null,Ja=[];(function(){if(!Xa)try{for(var a=Jb.getEntriesByType("resource"),b,c=0,d=a.length;c<d;c++)if(b=a[c],b.name===document.currentScript.src){for(var e=b,f=xd,h=[],l=0,k=f.length;l<k;l++)h.push(Math.round(e[f[l]]||0));Xa=h.join("/");b.deliveryType&&Ja.push("cdt="+b.deliveryType);b.nextHopProtocol&&Ja.push("cnhp="+b.nextHopProtocol);if(b.encodedBodySize||b.decodedBodySize||b.transferSize)Ja.push("cs="+
[b.encodedBodySize||0,b.decodedBodySize||0,b.transferSize||0].join("-"))}}catch(n){s&&console.warn("[TopMailRu] Error#1.32","Resource timing error",n)}})();var oc="downlink downlinkMax effectiveType rtt saveData type".split(" "),na,Kb;na=function(a,b,c){if(b&&"object"===typeof b){var d="id"in b&&b.id||pa,e=c.title||null,f,h=Kb(b,{params:c.required,fn:c.fn});if(h.missed.length)console.warn("[TopMailRu]"+(d?"["+d+"]":"")+" Error#1.14","Unspecified "+(1<h.missed.length&&h.missed.slice(0,-1).join(", ")+
" and "||"")+h.missed.slice(-1)+" in "+a);else{var l=Kb(b,{params:c.optional,fn:c.fn});f=[].concat(h.values).concat(l.values);h=[].concat(h.missed).concat(l.missed);c.value&&(b="value"in b&&b.value,!0!==c.value&&(b=b||c.value),b?f.push("value: "+b):h.push("value"));c=f.length?"{ "+f.join(", ")+" }":"";f=h.length?"("+(1<h.length?h.slice(0,-1).join(", ")+" and "+h.slice(-1)+" are":h.slice(-1)+" is")+" empty)":"";d?console.info("[TopMailRu]["+d+"]: "+(e||a)+" "+c+" "+f):console.warn("[TopMailRu] Error#1.15",
"Undefined counter ID of "+a+" "+c)}}else console.warn("[TopMailRu][]["+a+"] Error#1.13")};Kb=function(a,b){var c=[],d=[],e,f,h;if(b.params)for(e in b.params)if(b.params.hasOwnProperty(e)&&!1!==b.params[e])if(f=e in a&&a[e],!0!==b.params[e]&&(f=f||b.params[e]),f)try{h=b.fn?b.fn:null,c.push(e+': "'+(h?h(e,f):f)+'"')}catch(l){console.warn("[TopMailRu] Error#1.16",l)}else d&&d.push(e);return{values:c,missed:d}};var z={},$a=null,Za=null,Eb=[];n.prototype.callbackOnReady=function(a){s&&na("onReady",a,
{title:"OnReady callback"});a&&"object"===typeof a&&"function"===typeof a.callback&&(a.callback.call(a.context||null),qa&&Eb.push(a))};n.prototype.pageView=function(a){Ga(a);a:if(a&&"object"===typeof a&&a.id){5>ta.length&&!fa(a.id,ta)&&(ta.push(a.id),!1!==a.beat&&gb.push(a.id),D.push(a),Ka&&Xb(a));qa&&(cb[a.id]=S(!0,{},a),cb[a.id].bfCache=!0);"detectBlocker"in a&&!a.detectBlocker&&(yb=!0);var b="string"===typeof a.ecommerce,c=b&&-1!==a.ecommerce.search(/\S/);if(5>fb.length&&!fa(a.id,fb)&&(!0===a.ecommerce||
b&&!c||b&&c||!1!==a.ecommerce&&!b&&(fa(a.id,ud)||!fa(a.id,vd)))){fb.push(a.id);if(b&&c){if(Fb&&(Gb(a.ecommerce),X!==a.ecommerce)){X=a.ecommerce;M&&(M=[0,0,X]);break a}X=a.ecommerce;M&&(M=[0,0,X])}b=[a.id];if(Fb)for(var c=0,d=eb.length;c<d;c++)Yb(b,eb[c])}a.timespent=P&&(a.timespent||fa(a.id,rd)&&!1!==a.timespent);P&&(a.timespent?A.enable(a.id):A.disable(a.id));Hb||(Hb=!0===a.geolocation||a.timespent&&!1!==a.geolocation)&&Cc(Ib);rb&&!fa(a.id,db)&&(db.push(a.id),bc([a.id]))}s&&na("pageView",a,{title:"Page view",
optional:{url:u.href}});ba(a)&&(H(J(a,"/counter",!1,!0)),Ma=r())};n.prototype.reachGoal=function(a){Ga(a);s&&na("reachGoal",a,{title:"Reach goal",value:!0,required:{goal:!0}});if(ba(a)&&"goal"in a&&a.goal){var b="value"in a&&a.value?parseInt(a.value)||"":"";H(J(a,aa,!1,!0)+(";e="+encodeURIComponent("RG:"+b+"/"+a.goal)))}};var Ab="VALUE";n.prototype.itemView=function(a){s&&na("itemView",a,{title:"Item view",optional:{list:!0,pagetype:!0,productid:!0,totalvalue:!0},fn:function(a,b){return(""+b).replace(/;/g,
" ")}});if(ba(a)){var b=a.list||"",c=a.productid||"",d=a.pagetype||"",e=a.totalvalue||0,f=kd(a.id,d,e,c);f&&this.reachGoal(f);(new Image).src="https://ad.mail.ru/retarget/?counter="+(a.id||pa)+"&list="+b+"&productid="+c+"&pagetype="+d+"&totalvalue="+e+"&_="+Math.random();b="IV:"+e+"/"+(""+b).replace(/;/g," ")+";"+(""+c).replace(/;/g," ")+";"+(""+d).replace(/;/g," ");H(J(a,aa,!1,!0)+(";e="+encodeURIComponent(b)))}};var ld="vk_ecom_";n.prototype.sendEvent=function(a){Ga(a);s&&na("sendEvent",a,{title:"Send event",
value:!0,required:{category:!0,action:!0},optional:{label:!0},fn:function(a,b){return(""+b).substring(0,300).replace(/;/g," ")}});if(ba(a)&&"category"in a&&a.category&&"action"in a&&a.action){var b=(""+a.category).substring(0,300),c=(""+a.action).substring(0,300),d="label"in a&&a.label?(""+a.label).substring(0,300):"",b="CE:"+("value"in a&&a.value?parseInt(a.value)||"":"")+"/"+(""+b).replace(/;/g," ")+";"+(""+c).replace(/;/g," ")+";"+(""+d).replace(/;/g," ");H(J(a,aa,!1,!0)+(";e="+encodeURIComponent(b)))}};
n.prototype.setUserID=function(a){if(null===a||!1===a||void 0===a)this.deleteUserID();else{var b=typeof a;"number"!==b&&"string"!==b?s&&console.warn("[TopMailRu] Error#1.17","Invalid user ID in setUserID"):(U=a,s&&console.info("[TopMailRu]: Global user ID = "+U))}};n.prototype.getUserID=function(){return U||0===U?U:void 0};n.prototype.deleteUserID=function(){U=null;s&&console.info("[TopMailRu]: Reset global user ID to null")};n.prototype.setUserParams=function(a){if(null===a||!1===a||void 0===a)this.deleteUserParams();
else if(Z(a)){try{V=S(!0,{},a)}catch(b){s&&console.warn("[TopMailRu] Error#1.22","Invalid user params in setUserParams");return}s&&console.info("[TopMailRu]: Global user params = "+za(V))}else s&&console.warn("[TopMailRu] Error#1.21","Invalid user params in setUserParams")};n.prototype.getUserParams=function(){var a=V?V:void 0;return a?S(!0,{},a):void 0};n.prototype.deleteUserParams=function(){V=null;s&&console.info("[TopMailRu]: Reset global user params to null")};n.prototype.getClientID=function(){var a=
ja;return a||0===a?a:void 0};n.prototype._MT_event=function(a,b,c){Ga(a);s&&na(b,a,{title:c});ba(a)&&H(J(a,aa,!1,!0)+(";e="+encodeURIComponent("MT:/"+b)))};n.prototype.miniAppEvent=function(a){this._MT_event(a,"miniAppEvent","VK Mini App Event")};var Lb=function(a,b){if(P){var c=A.defaultID();ba(a,c)&&(!Z(a)||!("activity"in a&&a.activity)?s&&console.warn("[TopMailRu] Error#1.27","Invalid startActivity command: ID of activity is required"):A.startActivity(a.id||c,""+a.activity,null===b?!!a.canUseInBackground:
b))}};n.prototype.startTimespent=function(a){Lb(a,null)};n.prototype.startForegroundTimespent=function(a){Lb(a,!1)};n.prototype.startAnytimeTimespent=function(a){Lb(a,!0)};n.prototype.updateTimespent=function(a){if(P){var b=A.defaultID();ba(a,b)&&(!Z(a)||!("activity"in a&&a.activity)?A.updateActivity():"number"===typeof a.activity||"string"===typeof a.activity?A.updateActivity(a.id||b,""+a.activity):s&&console.warn("[TopMailRu] Error#1.28","Invalid updateActivity command: ID of activity should be number or string"))}};
n.prototype.stopTimespent=function(a){if(P){var b=A.defaultID();ba(a,b)&&(!Z(a)||!("activity"in a&&a.activity)?A.stopActivity(!1):"number"===typeof a.activity||"string"===typeof a.activity?A.stopActivity(a.id||b,""+a.activity,!1):s&&console.warn("[TopMailRu] Error#1.29","Invalid stopActivity command: ID of activity should be number or string"))}};n.prototype.incrementEventTimespent=function(a){if(P){var b=A.defaultID();ba(a,b)&&(!a||!("activity"in a&&a.activity)?s&&console.warn("[TopMailRu] Error#1.31",
"Invalid incrementEventTimespent command: ID of countable activity is required"):A.incCount(a.id||b,""+a.activity))}};n.prototype.processEvent=function(a,b){if(a&&"object"===typeof a)if("type"in a){if("onready"===a.type){if(b&&0>b)return;this.callbackOnReady(a)}else if(b&&0<b)return;switch(a.type){case "pageView":this.pageView(a);break;case "reachGoal":this.reachGoal(a);break;case "itemView":this.itemView(a);break;case "sendEvent":this.sendEvent(a);break;case "setUserID":"userid"in a&&this.setUserID(a.userid);
break;case "deleteUserID":this.deleteUserID();break;case "setUserParams":"params"in a&&this.setUserParams(a.params);break;case "deleteUserParams":this.deleteUserParams();break;case "miniAppEvent":this.miniAppEvent(a);break;case "startTimespent":this.startTimespent(a);break;case "startForegroundTimespent":this.startForegroundTimespent(a);break;case "startAnytimeTimespent":this.startAnytimeTimespent(a);break;case "updateTimespent":this.updateTimespent(a);break;case "stopTimespent":this.stopTimespent(a);
break;case "incrementEventTimespent":this.incrementEventTimespent(a)}}else s&&console.warn("[TopMailRu] Error#1.19","Unspecified type of push event");else s&&console.warn("[TopMailRu] Error#1.18","Invalid push event")};n.prototype.push=function(a){for(var b=0,c=arguments.length;b<c;b++)this.processEvent(arguments[b])};var Fc=!1;n.prototype.onready=function(){Fc||(Fc=!0,!yb&&!Ka&&td(dd,ed),Gb(X),fd())};var Db=!1;n.prototype.onload=function(){if(!Db){Db=!0;La=r();if(!Pa&&0<D.length){for(var a=";e="+
encodeURIComponent("RT/load")+";et="+La,b=0;b<D.length;b++)H(J(D[b],aa,!0,!0)+a);Ma=La}hd()}};n.prototype.beat=function(){var a;if(!zb&&bb){var b=r();if(!(12E4<b-bb)){if(12E4<b-Ma){a=";e="+encodeURIComponent("RT/resend")+";et="+La;for(var c=0;c<D.length;c++)!1!==D[c].beat&&H(J(D[c],aa,!1,!0)+a)}else 0<gb.length&&(a=";e="+encodeURIComponent("RT/beat")+";ids="+Da(gb.join()),H(J({id:gb[0]},aa,!1,!0)+a));Ma=b}}};var Cb=!1;n.prototype.unload=function(){if(!Cb){Cb=!0;if(!Pa){var a;a=(a=cc())?r()-a:void 0;
a=";e="+encodeURIComponent("RT/unload")+";et="+r()+(a?";pvt="+encodeURIComponent(a):"");if(ka.support){var b=ka.getLog();a+=";vtauto="+b.auto}for(b=0;b<D.length;b++)H(J(D[b],aa,!0,!0)+a)}qa&&(z.dcl3&&(clearTimeout(z.dcl3),delete z.dcl3),z.pvt2&&(clearTimeout(z.pvt2),delete z.pvt2),z.pvt15&&(clearTimeout(z.pvt15),delete z.pvt15),z.beat&&(clearInterval(z.beat),delete z.beat))}};n.prototype.activity=function(a){bb=r()};var wa=_tmr;_tmr=new n;P&&A.init();for(var C=0,Sa=wa.length,ea;C<Sa;C++)(ea=wa[C])&&
"object"===typeof ea&&Ga(ea);hb=(new Date).getTime();C=0;for(Sa=wa.length;C<Sa;C++)ea=wa[C],_tmr.processEvent(ea,1);Ta=(new Date).getTime();C=0;for(Sa=wa.length;C<Sa;C++)ea=wa[C],_tmr.processEvent(ea,-1);"complete"===f.readyState||"loading"!==f.readyState&&!f.documentElement.doScroll?(Za=yd,_tmr.onready(),tc()):f.addEventListener?q(f,"DOMContentLoaded",ab):f.attachEvent&&q(f,"readystatechange",ab);"complete"===f.readyState?($a=zd,_tmr.onload()):qa?q(e,"pageshow",Bb):q(e,"load",Bb);qa?q(e,"pagehide",
Na):(q(e,"unload",Na),q(e,"beforeunload",Na));sc();if(!zb)try{for(var Gc="scroll gesturechange touchmove mousedown mousemove mouseup touch".split(" "),Ad=function(a){q(f,a,function(){_tmr.activity(a)})},C=0;C<Gc.length;C++)Ad(Gc[C]);q(e,"scroll",function(){_tmr.activity("scallback")})}catch(Bd){s&&console.warn("[TopMailRu] Error#1.20",Bd)}Ua=(new Date).getTime()}})();
